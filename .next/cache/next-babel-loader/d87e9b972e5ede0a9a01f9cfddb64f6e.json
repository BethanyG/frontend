{
  "ast": null,
  "code": "var _jsxFileName = \"/Users/angelo.cordon/workspace/codebuddies/frontend/src/components/Auth/SignUpForm.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Box, Button, TextField } from '@material-ui/core/';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext';\nimport { validationResolver, defaultValues } from './SignUpForm.schema';\nimport { Form, Field } from '../form';\n\nconst SignUpForm = ({\n  toggleActiveForm\n}) => {\n  _s();\n\n  const {\n    0: errorMessage,\n    1: setErrorMessage\n  } = useState(null);\n  const {\n    0: isLoggedIn,\n    1: setIsLoggedIn\n  } = useState(false);\n  const referer = '/profile';\n  const auth = useAuth();\n\n  const onSubmit = ({\n    username,\n    password,\n    firstName,\n    lastName,\n    email\n  }) => {\n    const data = {\n      username,\n      password,\n      email,\n      first_name: firstName,\n      last_name: lastName\n    };\n    axios.post('/auth/users/', data).then(res => {\n      auth.setAuthTokens(res.data);\n      setIsLoggedIn(true);\n      setErrorMessage('');\n    }).catch(err => {\n      console.error(err);\n      setErrorMessage('There was an error!');\n    });\n  };\n\n  if (isLoggedIn) {\n    return __jsx(Redirect, {\n      to: referer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (auth && auth.authTokens) {\n    return __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 12\n      }\n    }, \"Welcome!\");\n  }\n\n  return __jsx(Box, {\n    component: Form,\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: onSubmit,\n    \"data-testid\": \"signupForm\",\n    validationResolver: validationResolver,\n    defaultValues: defaultValues,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    component: \"h1\",\n    fontSize: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Create an account\"), __jsx(Field, {\n    as: TextField,\n    fullWidth: true,\n    variant: \"outlined\",\n    margin: \"dense\",\n    name: \"firstName\",\n    label: \"First Name*\",\n    id: \"first-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), __jsx(Field, {\n    as: TextField,\n    fullWidth: true,\n    variant: \"outlined\",\n    margin: \"dense\",\n    name: \"lastName\",\n    label: \"Last Name\",\n    id: \"last-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), __jsx(Field, {\n    as: TextField,\n    fullWidth: true,\n    variant: \"outlined\",\n    margin: \"dense\",\n    name: \"username\",\n    label: \"Username*\",\n    id: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(Field, {\n    as: TextField,\n    fullWidth: true,\n    variant: \"outlined\",\n    margin: \"dense\",\n    name: \"email\",\n    label: \"Email*\",\n    id: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), __jsx(Field, {\n    as: TextField,\n    fullWidth: true,\n    variant: \"outlined\",\n    margin: \"dense\",\n    name: \"password\",\n    label: \"Password*\",\n    type: \"password\",\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), errorMessage && __jsx(Box, {\n    color: \"error.main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 24\n    }\n  }, \" \", errorMessage), __jsx(Box, {\n    width: \"100%\",\n    marginTop: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    \"data-testid\": \"submitButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \"Sign Up\")), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Already have an account?\", toggleActiveForm ? __jsx(Box, {\n    component: \"button\",\n    color: \"primary.main\",\n    padding: 0,\n    marginLeft: 1,\n    border: 0,\n    bgcolor: \"transparent\",\n    fontSize: 16,\n    onClick: toggleActiveForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"Log in\") : __jsx(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, \" Log in\"), \".\"));\n};\n\n_s(SignUpForm, \"gKMeuS2Xff0SIQO9yV8tD9Vee0U=\", false, function () {\n  return [useAuth];\n});\n\n_c = SignUpForm;\nconst {\n  func\n} = PropTypes;\nSignUpForm.propTypes = {\n  toggleActiveForm: func\n};\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");",
  "map": {
    "version": 3,
    "sources": [
      "/Users/angelo.cordon/workspace/codebuddies/frontend/src/components/Auth/SignUpForm.js"
    ],
    "names": [
      "React",
      "useState",
      "PropTypes",
      "Link",
      "Redirect",
      "Box",
      "Button",
      "TextField",
      "axios",
      "useAuth",
      "validationResolver",
      "defaultValues",
      "Form",
      "Field",
      "SignUpForm",
      "toggleActiveForm",
      "errorMessage",
      "setErrorMessage",
      "isLoggedIn",
      "setIsLoggedIn",
      "referer",
      "auth",
      "onSubmit",
      "username",
      "password",
      "firstName",
      "lastName",
      "email",
      "data",
      "first_name",
      "last_name",
      "post",
      "then",
      "res",
      "setAuthTokens",
      "catch",
      "err",
      "console",
      "error",
      "authTokens",
      "func",
      "propTypes"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Box, Button, TextField } from '@material-ui/core/';\nimport axios from 'axios';\nimport { useAuth } from './AuthContext';\nimport { validationResolver, defaultValues } from './SignUpForm.schema';\nimport { Form, Field } from '../form';\n\nconst SignUpForm = ({ toggleActiveForm }) => {\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const referer = '/profile';\n  const auth = useAuth();\n\n  const onSubmit = ({ username, password, firstName, lastName, email }) => {\n    const data = {\n      username,\n      password,\n      email,\n      first_name: firstName,\n      last_name: lastName,\n    };\n    axios\n      .post('/auth/users/', data)\n      .then(res => {\n        auth.setAuthTokens(res.data);\n        setIsLoggedIn(true);\n        setErrorMessage('');\n      })\n      .catch(err => {\n        console.error(err);\n        setErrorMessage('There was an error!');\n      });\n  };\n\n  if (isLoggedIn) {\n    return <Redirect to={referer} />;\n  }\n\n  if (auth && auth.authTokens) {\n    return <p>Welcome!</p>;\n  }\n\n  return (\n    <Box\n      component={Form}\n      display=\"flex\"\n      flexWrap=\"wrap\"\n      noValidate\n      autoComplete=\"off\"\n      onSubmit={onSubmit}\n      data-testid=\"signupForm\"\n      validationResolver={validationResolver}\n      defaultValues={defaultValues}\n    >\n      <Box component=\"h1\" fontSize={18}>\n        Create an account\n      </Box>\n\n      <Field\n        as={TextField}\n        fullWidth\n        variant=\"outlined\"\n        margin=\"dense\"\n        name=\"firstName\"\n        label=\"First Name*\"\n        id=\"first-name\"\n      />\n      <Field\n        as={TextField}\n        fullWidth\n        variant=\"outlined\"\n        margin=\"dense\"\n        name=\"lastName\"\n        label=\"Last Name\"\n        id=\"last-name\"\n      />\n      <Field\n        as={TextField}\n        fullWidth\n        variant=\"outlined\"\n        margin=\"dense\"\n        name=\"username\"\n        label=\"Username*\"\n        id=\"username\"\n      />\n      <Field\n        as={TextField}\n        fullWidth\n        variant=\"outlined\"\n        margin=\"dense\"\n        name=\"email\"\n        label=\"Email*\"\n        id=\"email\"\n      />\n      <Field\n        as={TextField}\n        fullWidth\n        variant=\"outlined\"\n        margin=\"dense\"\n        name=\"password\"\n        label=\"Password*\"\n        type=\"password\"\n        id=\"password\"\n      />\n\n      {errorMessage && <Box color=\"error.main\"> {errorMessage}</Box>}\n\n      <Box width=\"100%\" marginTop={2}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n          data-testid=\"submitButton\"\n        >\n          Sign Up\n        </Button>\n      </Box>\n      <p>\n        Already have an account?\n        {toggleActiveForm ? (\n          <Box\n            component=\"button\"\n            color=\"primary.main\"\n            padding={0}\n            marginLeft={1}\n            border={0}\n            bgcolor=\"transparent\"\n            fontSize={16}\n            onClick={toggleActiveForm}\n          >\n            Log in\n          </Box>\n        ) : (\n          <Link to=\"/login\"> Log in</Link>\n        )}\n        .\n      </p>\n    </Box>\n  );\n};\n\nconst { func } = PropTypes;\n\nSignUpForm.propTypes = {\n  toggleActiveForm: func,\n};\n\nexport default SignUpForm;\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
